---
title: 2.2 - ROS 2 Development Tools
sidebar_position: 2
id: lesson-2-2-ros-2-development-tools
---

import Admonition from '@theme/Admonition';

# 2.2 - ROS 2 Development Tools

## What You'll Learn

This lesson will equip you with the essential tools and workflows for developing your own ROS 2 applications. You will learn how to create, build, and interact with custom ROS 2 packages and nodes using command-line utilities and integrated development environments.

## The ROS 2 Development Workflow

Developing with ROS 2 typically involves these steps:

1.  **Setting up a Workspace:** An isolated environment for your ROS 2 packages.
2.  **Creating Packages:** The fundamental unit of ROS 2 software.
3.  **Writing Nodes:** Implementing your robot's logic in Python or C++.
4.  **Building:** Compiling your code using `colcon`.
5.  **Sourcing:** Making your new packages available to the ROS 2 environment.
6.  **Running:** Executing your nodes.

## 1. Workspaces and `colcon`

A ROS 2 **workspace** is a directory where you develop your own ROS 2 packages. It allows you to build multiple packages at once and manage their dependencies. `colcon` is the build system used in ROS 2.

### Setting Up a Workspace

```bash
mkdir -p ~/ros2_ws/src
cd ~/ros2_ws
colcon build # Initialize the workspace (can run without packages to init)
```

### Overlaying Your Workspace

After building your packages, you must "overlay" your workspace on top of your ROS 2 installation. This makes your custom packages visible to the ROS 2 environment.

```bash
# In your workspace root (~/ros2_ws)
source install/setup.bash
```
<Admonition type="tip" title="Always Source">
  Remember to `source` your workspace every time you open a new terminal, otherwise, ROS 2 will not find your custom packages! You can add this line to your `~/.bashrc` file (after sourcing `/opt/ros/humble/setup.bash`) for convenience.
</Admonition>

## 2. Creating a ROS 2 Package

A **package** is the primary way to organize software in ROS 2. It contains nodes, launch files, configuration files, and dependencies.

### Using `ros2 pkg create`

```bash
# In your workspace src directory (~/ros2_ws/src)
cd ~/ros2_ws/src
ros2 pkg create --build-type ament_python my_first_package --dependencies rclpy
# Or for C++:
# ros2 pkg create --build-type ament_cmake my_first_cpp_package --dependencies rclcpp
```
-   `--build-type ament_python`: Specifies a Python package.
-   `--dependencies rclpy`: Declares `rclpy` (ROS Client Library for Python) as a dependency.

## 3. Essential Command-Line Tools

These tools are your everyday companions for interacting with ROS 2 systems.

### `ros2 run`: Execute a Node

Starts an executable (node) from a package.

```bash
ros2 run <package_name> <executable_name>
```
**Example:** `ros2 run demo_nodes_cpp talker`

### `ros2 topic`: Inspect Topics

-   **`list`**: Shows active topics.
-   **`info <topic_name>`**: Displays type, publisher/subscriber count.
-   **`echo <topic_name>`**: Prints messages published on a topic to the console.
-   **`pub <topic_name> <message_type> <arguments>`**: Publishes a single message to a topic.

**Example:**
```bash
ros2 topic list
ros2 topic info /chatter
ros2 topic echo /chatter
ros2 topic pub /my_topic std_msgs/msg/String '{data: "Hello from CLI"}' --once
```

### `ros2 service`: Interact with Services

-   **`list`**: Shows active services.
-   **`info <service_name>`**: Displays type.
-   **`call <service_name> <service_type> <arguments>`**: Calls a service with a request.

**Example:** `ros2 service call /add_two_ints example_interfaces/srv/AddTwoInts '{a: 1, b: 2}'`

### `ros2 param`: Manage Parameters

-   **`list`**: Shows node parameters.
-   **`get <node_name> <param_name>`**: Gets a parameter's value.
-   **`set <node_name> <param_name> <value>`**: Sets a parameter's value.

**Example:** `ros2 param set /my_node my_param_name "new_value"`

### `ros2 launch`: Start Complex Systems

Executes a launch file (Python or XML) to start multiple nodes and configure them.

```bash
ros2 launch <package_name> <launch_file_name>
```
**Example:** `ros2 launch turtle_tf2_py turtle_tf2_demo.launch.py`

## 4. Visualization and Debugging Tools

### `rqt_graph`: Visualize the ROS Graph

As seen in Lesson 2.1, `rqt_graph` is indispensable for understanding data flow between nodes.

```bash
rqt_graph
```

### `rviz2`: 3D Visualization

`rviz2` is a powerful 3D visualizer for displaying sensor data (LIDAR, cameras), robot models, and navigation paths.

```bash
rviz2
```
<Admonition type="tip" title="Install RViz2">
  If `rviz2` is not found, you might need to install it:
  ```bash
  sudo apt update
  sudo apt install ros-humble-rviz2
  ```
</Admonition>

## Hands-On: A Simple Publisher/Subscriber

Let's create a minimal ROS 2 package with a publisher and subscriber in Python.

### Step 1: Create the Package

```bash
# Go to your workspace src directory
cd ~/ros2_ws/src
ros2 pkg create --build-type ament_python my_simple_robot --dependencies rclpy std_msgs
```

### Step 2: Create the Publisher Node

Open `~/ros2_ws/src/my_simple_robot/my_simple_robot/publisher_member_function.py` and add:

```python
import rclpy
from rclpy.node import Node
from std_msgs.msg import String

class MinimalPublisher(Node):

    def __init__(self):
        super().__init__('minimal_publisher')
        self.publisher_ = self.create_publisher(String, 'topic', 10)
        timer_period = 0.5  # seconds
        self.timer = self.create_timer(timer_period, self.timer_callback)
        self.i = 0

    def timer_callback(self):
        msg = String()
        msg.data = 'Hello ROS 2! %d' % self.i
        self.publisher_.publish(msg)
        self.get_logger().info('Publishing: "%s"' % msg.data)
        self.i += 1

def main(args=None):
    rclpy.init(args=args)
    minimal_publisher = MinimalPublisher()
    rclpy.spin(minimal_publisher)
    minimal_publisher.destroy_node()
    rclpy.shutdown()

if __name__ == '__main__':
    main()
```

### Step 3: Create the Subscriber Node

Open `~/ros2_ws/src/my_simple_robot/my_simple_robot/subscriber_member_function.py` and add:

```python
import rclpy
from rclpy.node import Node
from std_msgs.msg import String

class MinimalSubscriber(Node):

    def __init__(self):
        super().__init__('minimal_subscriber')
        self.subscription = self.create_subscription(
            String,
            'topic',
            self.listener_callback,
            10)
        self.subscription  # prevent unused variable warning

    def listener_callback(self, msg):
        self.get_logger().info('I heard: "%s"' % msg.data)

def main(args=None):
    rclpy.init(args=args)
    minimal_subscriber = MinimalSubscriber()
    rclpy.spin(minimal_subscriber)
    minimal_subscriber.destroy_node()
    rclpy.shutdown()

if __name__ == '__main__':
    main()
```

### Step 4: Update `setup.py`

Open `~/ros2_ws/src/my_simple_robot/setup.py` and ensure the `entry_points` section defines your executables:

```python
from setuptools import find_packages, setup

package_name = 'my_simple_robot'

setup(
    name=package_name,
    version='0.0.0',
    packages=find_packages(exclude=['test']),
    data_files=[
        ('share/' + package_name, ['package.xml']),
        ('share/' + package_name + '/resource', ['my_simple_robot']),
    ],
    install_requires=['setuptools'],
    zip_safe=True,
    maintainer='your_name', # TODO: Change to your name
    maintainer_email='your_email@example.com', # TODO: Change to your email
    description='TODO: Package description',
    license='TODO: License declaration',
    tests_require=['pytest'],
    entry_points={
        'console_scripts': [
            'talker = my_simple_robot.publisher_member_function:main',
            'listener = my_simple_robot.subscriber_member_function:main',
        ],
    },
)
```

### Step 5: Build Your Package

```bash
# Go to your workspace root
cd ~/ros2_ws
colcon build --packages-select my_simple_robot
```

### Step 6: Source and Run

```bash
# In your workspace root
source install/setup.bash

# In one terminal:
ros2 run my_simple_robot talker

# In another terminal:
ros2 run my_simple_robot listener
```
You should see the publisher sending messages and the listener receiving them! You've just created your first custom ROS 2 nodes.
